@model SCS.Models.Promotions

@{
    ViewBag.Title = "Изменить";
}
<div class="container">
    <div class="divTable">
        <h4>
            <b>Изменить данные о акции</b>
        </h4>

        @using (Html.BeginForm())
        {
            @Html.AntiForgeryToken()

            <hr />
            @Html.ValidationSummary(true, "", new { @class = "text-danger" })
            @Html.HiddenFor(model => model.Id)

            <div class="moreInformationOrder mb-2">
                @Html.ValidationSummary(true, "", new { @class = "text-danger" })
                <div class="form-group">
                    @Html.LabelFor(model => model.Name, htmlAttributes: new { @class = "control-label col-md-2" })
                    <div class="col-md-10">
                        @Html.EditorFor(model => model.Name, new { htmlAttributes = new { @class = "form-control" } })
                        @Html.ValidationMessageFor(model => model.Name, "", new { @class = "text-danger" })
                    </div>
                </div>

            </div>
            <div class="form-group mb-2">
                @Html.LabelFor(model => model.Description, htmlAttributes: new { @class = "control-label col-md-2" })
                <div class="col-md-10 mb-2">
                    <textarea id="Description" name="Description" class="form-control" style="min-height:200px">@Model.Description</textarea>
                    @Html.ValidationMessageFor(model => model.Description, "", new { @class = "text-danger" })
                </div>


                <div class="form-group mb-2">
                    @Html.LabelFor(model => model.DayOfWeek, htmlAttributes: new { @class = "control-label col-md-2" })
                    <div class="col-md-10">
                        @Html.DropDownList("DayOfWeek", ViewData["DayOfWeek"] as List<SelectListItem>, new { @class = "form-control", multiple = "multiple" })
                        @Html.ValidationMessageFor(model => model.DayOfWeek, "", new { @class = "text-danger" })
                    </div>
                </div>

                <div class="form-group mb-2">
                    @Html.LabelFor(model => model.TimeStart, htmlAttributes: new { @class = "control-label col-md-2" })
                    <div class="col-md-10">
                        <input type="time" id="TimeStart" name="TimeStart" class="form-control" title="Время начала действия" value=@Model.TimeStart required>
                        @Html.ValidationMessageFor(model => model.TimeStart, "", new { @class = "text-danger" })
                    </div>
                </div>

                <div class="form-group mb-2">
                    @Html.LabelFor(model => model.TimeEnd, htmlAttributes: new { @class = "control-label col-md-2" })
                    <div class="col-md-10">
                        <input type="time" id="TimeEnd" name="TimeEnd" class="form-control" title="Время окончания действия" value=@Model.TimeEnd required>
                        @Html.ValidationMessageFor(model => model.TimeEnd, "", new { @class = "text-danger" })
                    </div>
                </div>

                <div class="form-group mb-2">
                    @Html.LabelFor(model => model.Discount, htmlAttributes: new { @class = "control-label col-md-2" })
                    <div class="col-md-10">
                        <input type="number" id="Discount" name="Discount" value=@Model.Discount.ToString().Replace(',','.') class="form-control" />
                        @Html.ValidationMessageFor(model => model.Discount, "", new { @class = "text-danger" })
                    </div>
                </div>

            </div>
            <div class="col-md-offset-2 col-md-10 mb-2">
                <div class="form-group mb-2">
                    <div class="col-md-10">
                        <label>Список моделей</label>
                        <select name="TransportSelect2" class="form-control s-example-basic-multiple" multiple="multiple" id="TransportSelect2" lang="ru" required>
                        </select>
                    </div>

                </div>
                <input type="submit" value="Изменить" class="btn btn btn-primary ml-0 " />
                <a class="btn btn btn-danger " href="@Url.Action("Index","Promotions")">
                    Отмена
                </a>
            </div>
        }

    </div>
</div>

@Scripts.Render("~/bundles/jqueryval")

<script src="~/Scripts/select2/i18n/ru.js"></script>
<script src="~/Scripts/select2/select2.full.min.js"></script>
<script src="~/Scripts/select2/select2.js"></script>
<script>


    //$(document).ready(function () {
    //    //alert();
    //    $.ajax({
    //        url: "/api/web/GetModelPromotionsEdit",
    //        contentType: "application/json; charset=utf-8",
    //        data: function () {
    //            var query =
    //            {
    //                term: "7",
    //            };
    //            return query;
    //        },
    //        success:
    //            function (result) {
    //                $("#TransportSelect2").select2({
    //                    data: data
    //                });
    //            }
    //    });
    //});
    //alert(@ViewData["models"] );
</script>
