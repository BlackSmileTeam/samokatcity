
@model SCS.Models.Order

@{
    ViewBag.Title = "Create";
}



<div class="orderTable">

    <h2>Создание заказа</h2>
</div>


@using (Html.BeginForm())
{
    @Html.AntiForgeryToken()

<div class="orderTable">
    <hr />
    <div class="moreInformationOrder">
        @Html.ValidationSummary(true, "", new { @class = "text-danger" })

        <div class="form-group">
            <div class="col-md-10">
                <label>ФИО клиента</label>
                @Html.DropDownList("UserId", null, htmlAttributes: new { @class = "form-control" })
                @Html.ValidationMessageFor(model => model.UserId, "", new { @class = "text-danger" })
            </div>
            <div class="col-md-10">
                @Html.LabelFor(model => model.DateStart)
                @Html.EditorFor(model => model.DateStart, new { htmlAttributes = new { @class = "form-control" } })
                @Html.ValidationMessageFor(model => model.DateStart, "", new { @class = "text-danger" })
            </div>
        </div>

        <div class="form-group">
            <div class="col-md-10">
                <label>Статус заказа</label>
                <div class="checkbox">
                    @Html.DropDownList("StatusOrder", null, htmlAttributes: new { @class = "form-control" })
                </div>
            </div>
            <div class="col-md-10">
                <label>Количество замков</label>
                @Html.EditorFor(model => model.CountLock, new { htmlAttributes = new { @class = "form-control" } })
                @Html.ValidationMessageFor(model => model.CountLock, "", new { @class = "text-danger" })
            </div>
        </div>
        <div class="form-group">
            <div class="col-md-10">
                <label>Количество бонусов за заказ</label>
                @Html.EditorFor(model => model.AddBonuses, new { htmlAttributes = new { @class = "form-control" } })

                @Html.ValidationMessageFor(model => model.AddBonuses, "", new { @class = "text-danger" })
            </div>
            <div class="col-md-10">
                <label>Скидка за заказ, %</label>
                @Html.EditorFor(model => model.Discount, new { htmlAttributes = new { @class = "form-control" } })
                @Html.ValidationMessageFor(model => model.Discount, "", new { @class = "text-danger" })
            </div>
        </div>
    </div>

    <h4>Оплата</h4>
    <hr />
    <div class="moreInformationOrder">
        <div class="form-group">
            <div class="col-md-10">
                <label>Оплата наличными</label>
                <input class="form-control" name="CashPayment" id="CashPayment" />
            </div>
            <div class="col-md-10">
                <label>Оплата картой</label>
                <input class="form-control" name="CardPayment" id="CardPayment" />
            </div>
        </div>

        <div class="form-group">
            <div class="col-md-10">
                <label>Залог наличными</label>
                <input class="form-control" name="CashDeposit" id="CashDeposit" />
            </div>
            <div class="col-md-10">
                <label>Залог картой</label>
                <input class="form-control" name="CardDeposit" id="CardDeposit" />
            </div>
        </div>

        <div class="form-group">
            <div class="col-md-10">
                <label>Оплата бонусами</label>
                <input class="form-control" name="bonusPayment" id="bonusPayment" />
            </div>
            <div class="col-md-10">
                <label>Документ</label>
                @Html.DropDownList("TypeDocumentId", null, htmlAttributes: new { @class = "form-control" })
            </div>
        </div>
    </div>

    <h4>Транспорт</h4>
    <hr />
    <div id="transport">
    </div>
    <div class="col-md-offset-2 col-md-10">
        <input type="button" value="+" id="addTransport" class="btn btn-outline-dark" />
    </div>
    <br />

    <h4>Аксессуары</h4>
    <hr />
    <div id="accessories">

    </div>
    <div class="col-md-offset-2 col-md-10">
        <input type="button" value="+" id="addAccessories" class="btn btn-outline-dark" />
    </div>
    <br />

    <div class="col-md-offset-2 col-md-10">
        <input type="submit" value="Создать заказ" class="btn btn btn-danger float-md-right" />
    </div>
    <br />

</div>
}


@section Scripts {
    <script>
        $(document).ready(function () {
            $("#addTransport").click(function () {
                $.ajax({
                    url: 'AddDropListTransport',
                    datatype: 'html',
                    success: function (data) {
                        $("#transport").append(data);
                    }
                })
            });
        });
        $(document).ready(function () {
            $("#addAccessories").click(function () {

                $.ajax({
                    url: 'AddDropListAccessories',
                    datatype: 'html',
                    success: function (data) {
                        $("#accessories").append(data);
                    }
                })
            });
        });
    </script>
    @Scripts.Render("~/bundles/jqueryval")
}
